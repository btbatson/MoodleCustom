webpackJsonp([15],{101:function(e,t,n){"use strict";n.d(t,"a",function(){return r});n(0),n(29),n(30);var o=n(2),i=(n.n(o),n(42)),s=(n.n(i),n(32),n(53),this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}),r=function(){function e(e,t,n,o){this.api=e,this.storage=t,this.helper=n,this.mycourses=o}return e.prototype.getSingleTopic=function(e,t,n){var i=this;this.mycourses.isCourseExpired(n);return o.Observable.create(function(o){i._getSingleTopicLocal(e).then(function(e){o.next(e)}),i._getSingleTopicRemote(e,t,n).then(function(e){i._updateSingleTopicLocal(e),o.next(e),o.complete()}).catch(function(e){return console.log(e)})})},e.prototype._getSingleTopicRemote=function(e,t,n){var o=this,i={topic_id:e,lesson_id:t,course_id:n};return new Promise(function(e,t){o.helper.getApiversion().then(function(t){var n=o.api.get("learndash/"+t+"/topic",i);e(n.toPromise())})})},e.prototype._updateTopicsOffline=function(e){var t=this;this.storage.get("offlineTopics").then(function(n){n=s({},n,e),t.storage.set("offlineTopics",n)})},e.prototype._getSingleTopicLocal=function(e,t){var n=this;return void 0===t&&(t="singletopics"),new Promise(function(o,i){n.storage.get(t).then(function(t){t&&t[e]&&o(t[e])})})},e.prototype._updateSingleTopicLocal=function(e,t){var n=this;void 0===t&&(t="singletopics"),this.storage.get(t).then(function(o){o||(o={}),o[e.id]=e,n.storage.set(t,o)})},e.prototype.markTopicCompleted=function(e,t){var n=this;this.mycourses.isCourseExpired(t);var o={id:e,course_id:t};return new Promise(function(e,t){n.helper.getApiversion().then(function(t){var i=n.api.get("learndash/"+t+"/mark_complete",o);e(i.toPromise())})})},e}()},103:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={API_URL:"http://content.wisdmlabs.net/",TOKEN_API:"content.wisdmlabs.net",TOKEN_URL:"https://vdr4co1nx5.execute-api.ap-south-1.amazonaws.com/dev",LICENSE_URL:"https://licensingserver.wisdmlabs.net/api/validate",LICENSE_TOKEN:"$2y$10$wuiYH1O6Rg9J5NJ88kLT1.Rw3MtJfoidouraxfhMqJzMYsmcO.bFW",APP_TOKEN:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkb21haW4iOiJjb250ZW50Lndpc2RtbGFicy5uZXQiLCJpYXQiOjE1MzI5NTM2MjcsImF1ZCI6ImFkbWluIiwiaXNzIjoiaHR0cHM6Ly93aXNkbWxhYnMuY29tIn0.czlIz5Zxk9fKwMbE47Rl3KdzJBNx4zYXCCEwnwZmXbY"}},196:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(0),n(30),n(89),n(98),n(101),n(53),n(54),n(33),n(29),n(86),n(85),n(87);var o=n(103),i=n(42),s=(n.n(i),n(32),this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(r,a)}l((o=o.apply(e,t||[])).next())})}),r=this&&this.__generator||function(e,t){function n(n){return function(r){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(s=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,r])}}var o,i,s,r,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r},a=function(){function e(e,t,n,i,s,r,a,l,u,c,p,d){this.api=e,this.helper=t,this.singleLp=n,this.singleCp=i,this.singleTp=s,this.myCourses=r,this.transfer=a,this.file=l,this.platform=u,this.fileOpener=c,this.auth=p,this.storage=d,this.url=o.a.API_URL+"wp-json"}return e.prototype.uploadAssignment=function(e){var t=this;return new Promise(function(n,o){t.helper.getApiversion().then(function(o){var i=t.api.postForm("learndash/"+o+"/assignment",e);n(i.toPromise())})})},e.prototype.deleteAssignment=function(e,t){var n=this,o={assignmentid:e,course_id:t};return new Promise(function(e,t){n.helper.getApiversion().then(function(t){var i=n.api.get("learndash/"+t+"/delete_assignment",o);e(i.toPromise())})})},e.prototype.drawerData=function(e,t,n){return void 0===n&&(n=null),"lessons"===e?this.singleCp.getSingleCourse(t):this.singleLp.getSingleLesson(t,n)},e.prototype.startResumeCourse=function(e){return this.myCourses.isCourseExpired(e.id),e.course_progress&&"sfwd-courses"!==e.course_progress.current_element_postype?"sfwd-lessons"===e.course_progress.current_element_postype?{page:"SingleLessonPage",data:{course_id:e.id,lesson_id:e.course_progress.current_element_id}}:"sfwd-topic"===e.course_progress.current_element_postype?{page:"SingleTopicPage",data:{course_id:e.id,lesson_id:e.course_progress.next_lesson_id,topic_id:e.course_progress.current_element_id}}:"sfwd-quiz"===e.course_progress.current_element_postype?{page:"SingleQuizPage",data:{quiz_id:e.course_progress.current_element_id,course_id:e.course_progress.next_course_id,lesson_id:e.course_progress.next_lesson_id,topic_id:e.course_progress.next_topic_id}}:{page:"SingleCoursePage",data:{course_id:e.id}}:{page:"SingleCoursePage",data:{course_id:e.id}}},e.prototype.staticPage=function(e){return this.api.get("wp/v2/pages/"+e+"?_embed").toPromise()},e.prototype.updateMyCourses=function(){var e=this;this.myCourses._getMyCoursesRemote().then(function(t){e.myCourses._updateMyCoursesLocal(t)}).catch(function(e){return console.log(e)})},e.prototype.getCertificate=function(e,t){var n=this,o=this.transfer.create();return new Promise(function(i,a){return s(n,void 0,void 0,function(){var n,s,l,u,c,p=this;return r(this,function(r){switch(r.label){case 0:return[4,this.helper.getApiversion()];case 1:return n=r.sent(),s=this.url+"/learndash/"+n+"/certificate?module="+e,l=null,this.platform.is("ios")?l=this.file.documentsDirectory:this.platform.is("android")&&(l=this.file.dataDirectory),[4,this.auth.getToken()];case 2:return u=r.sent(),c={headers:{Authorization:"Bearer "+u}},o.download(s,""+l+t+".pdf",!1,c).then(function(e){p.fileOpener.open(e.toURL(),"application/pdf").then(function(){i(!0),console.log("File is opened")}).catch(function(e){a(e),console.log("Error openening file",e)})}).catch(function(e){a(e),console.log(e)}),[2]}})})})},e.prototype.getSpentTime=function(e){var t=this;return new Promise(function(n,o){t.storage.get("LessonTopicTimeSpent").then(function(t){n(t&&t[e]?t[e]:0)})})},e.prototype.setSpentTime=function(e,t){var n=this;this.storage.get("LessonTopicTimeSpent").then(function(o){o||(o={}),o[e]=o[e]?o[e]+t:t,n.storage.set("LessonTopicTimeSpent",o)})},e.prototype.updateQuizTree=function(e,t,n){var o=this;""!==n&&this.singleTp._getSingleTopicRemote(n,t,e).then(function(e){o.singleTp._updateSingleTopicLocal(e)}),""!==t&&this.singleLp._getSingleLessonRemote(t,e).then(function(e){o.singleLp._updateSingleLessonLocal(e)}),""!==e&&this.singleCp._getSingleCourseRemote(e).then(function(e){o.singleCp._updateSingleCourseLocal(e)}),this.myCourses._getMyCoursesRemote().then(function(e){o.myCourses._updateMyCoursesLocal(e)})},e.prototype.stopMedia=function(e){console.log(e),e&&e.forEach(function(e){switch(e.tagName){case"IFRAME":e.src=e.src;break;case"AUDIO":case"VIDEO":console.log(e),e.pause()}})},e}()},197:function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(0),n(33);var o=function(){function e(e){this.ModalCtrl=e}return e.prototype.create=function(e,t){return void 0===t&&(t={}),this.modal=this.ModalCtrl.create(e,t),this.open(),this.modal},e.prototype.open=function(){this.modal.present()},e}()},203:function(e,t,n){"use strict";n.d(t,"a",function(){return s});n(0),n(89),n(98),n(101),n(30),n(32),n(86),n(87),n(85),n(178);var o=n(33),i=(n(84),this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}),s=function(){function e(e,t,n,o,i,s,r,a,l,u,c,p){this.http=e,this.course=t,this.lesson=n,this.topic=o,this.api=i,this.helper=s,this.transfer=r,this.fileOpener=a,this.file=l,this.zip=u,this.toast=c,this.events=p,this.progress=[0,0,0],this.topics={},this.lessons={}}return e.prototype.downloadCourse=function(e){var t=this;this.topics={},this.lessons={},this.unzipContent(this.file.dataDirectory+e+".zip",this.file.dataDirectory).then(function(n){n<0?(t.events.publish(e.toString(),0),t.toast.showToast({message:"Error while downloading course"})):t.course._getSingleCourseRemote(e).then(function(n){t.progress[0]=t.progress[0]+n.lessons.length,t.events.publish(e.toString(),0===t.progress[0]?100:55),t.course._updateSingleCourseLocal(n,"offlineCourses"),n.lessons.forEach(function(n){t.downloadLesson(n.id,e),console.log(n.id)})}).catch(function(n){t.events.publish(e.toString(),0),t.toast.showToast({message:"Error while downloading course"})})})},e.prototype.downloadLesson=function(e,t){var n=this;this.unzipContent(this.file.dataDirectory+e+".zip",this.file.dataDirectory).then(function(o){o<0?(n.events.publish(t.toString(),0),n.toast.showToast({message:"Error while downloading lesson"})):n.lesson._getSingleLessonRemote(e,t).then(function(o){o.offlineMode=!0,n.lessons[o.id]=i({},o),n.progress[0]=n.progress[0]-1,n.progress[1]=n.progress[1]+o.topics.length,0===n.progress[0]&&0===n.progress[1]?(n.events.publish(t.toString(),100),n.lesson._updateLessonsOffline(n.lessons)):0===n.progress[0]&&(n.events.publish(t.toString(),80),n.lesson._updateLessonsOffline(n.lessons)),o.topics.forEach(function(o){n.downloadTopic(o.id,e,t)})}).catch(function(e){n.events.publish(t.toString(),0),n.toast.showToast({message:"Error while downloading lesson"})})})},e.prototype.downloadTopic=function(e,t,n){var o=this;this.unzipContent(this.file.dataDirectory+e+".zip",this.file.dataDirectory).then(function(s){s<0?(o.events.publish(n.toString(),0),o.toast.showToast({message:"Error while downloading topic"})):o.topic._getSingleTopicRemote(e,t,n).then(function(e){e.offlineMode=!0,o.progress[1]=o.progress[1]-1,o.topics[e.id]=i({},e),0===o.progress[1]&&(o.topic._updateTopicsOffline(o.topics),o.events.publish(n.toString(),100)),console.log(e.id,"downloaded")}).catch(function(e){o.events.publish(n.toString(),0),o.toast.showToast({message:"Error while downloading topic"})})})},e.prototype.toggleOffline=function(){var e=this;Array.from(document.querySelectorAll("img,audio,video")).forEach(function(t){var n=e.getFilename(t.src);switch(n||(n=e.getFilename(t.currentSrc)),e.destination=e.file.dataDirectory+n,e.destination=Object(o.a)(e.destination),t.tagName){case"IMG":e.changeImgSource(t,e.destination);break;case"AUDIO":case"VIDEO":e.changeMediaSource(t,e.destination)}})},e.prototype.changeImgSource=function(e,t){e.srcset&&(e.srcset=""),e.src=t},e.prototype.changeMediaSource=function(e,t){var n=document.createElement("source");n.setAttribute("src",t),e.appendChild(n),e.src=t,e.load()},e.prototype.getFilename=function(e){var t;return t=e.split("/"),t=t[t.length-1]},e.prototype.downloadContent=function(e,t){var n=this,o=this.transfer.create();return this.helper.getApiversion().then(function(i){n.api.get("offline/"+i+"/download",{post_id:e,course_id:t}).subscribe(function(i){if(i.status)n.toast.showToast({message:"Course not available offline please contact admin"});else{var s=n.getFilename(i).split("-")[0];console.log(s,"name"),o.download(i,n.file.dataDirectory+(s+".zip")).then(function(t){console.log(t),n.downloadCourse(e)}).catch(function(e){n.events.publish(t.toString(),0),n.toast.showToast({message:"Error while downloading course"})})}})}),o},e.prototype.unzipContent=function(e,t){return this.zip.unzip(e,t,function(e){console.log("Unzipping, "+Math.round(e.loaded/e.total*100)+"%",t)})},e}()},204:function(e,t,n){"use strict";n.d(t,"a",function(){return i});n(0),n(30);var o=n(42),i=(n.n(o),n(32),n(53),function(){function e(e,t,n){this.api=e,this.helper=t,this.mycourses=n}return e.prototype.getSingleQuiz=function(e,t,n,o){var i=this;this.mycourses.isCourseExpired(t);var s={quiz_id:e,course_id:t,lesson_id:n,topic_id:o};return new Promise(function(e,t){i.helper.getApiversion().then(function(t){var n=i.api.get("learndash/"+t+"/quiz",s);e(n.toPromise())})})},e.prototype.getQuizStats=function(e){var t=this,n={quiz_id:e};return new Promise(function(e,o){t.helper.getApiversion().then(function(o){var i=t.api.get("learndash/"+o+"/quiz_statistics",n);e(i.toPromise())})})},e.prototype.checkAnswers=function(e){var t=this;return new Promise(function(n,o){t.helper.getApiversion().then(function(o){var i=t.api.postForm("learndash/"+o+"/checkAnswers",e);n(i.toPromise())})})},e.prototype.uploadEssay=function(e){var t=this;return new Promise(function(n,o){t.helper.getApiversion().then(function(o){var i=t.api.postForm("learndash/"+o+"/upload_essay",e);n(i.toPromise())})})},e.prototype.sendCompletedQuiz=function(e){var t=this;return new Promise(function(n,o){t.helper.getApiversion().then(function(o){var i=t.api.postForm("learndash/"+o+"/quiz_complete",e);n(i.toPromise())})})},e.prototype.getLeaderBoard=function(e){var t=this,n={quiz_id:e};return new Promise(function(e,o){t.helper.getApiversion().then(function(o){var i=t.api.get("learndash/"+o+"/leaderboard",n);e(i.toPromise())})})},e}())},234:function(e,t){function n(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=234},30:function(e,t,n){"use strict";n.d(t,"a",function(){return r});n(0);var o=n(63),i=n(103),s=n(42),r=(n.n(s),function(){function e(e){this.http=e,this.url=i.a.API_URL+"wp-json",this.license_url=i.a.TOKEN_URL,this.token=i.a.APP_TOKEN,this.clientUrl=i.a.LICENSE_URL,this.clientToken=i.a.LICENSE_TOKEN}return e.prototype.get=function(e,t,n){if(n||(n={}),t){n.params=new o.i;for(var i in t)n.params=n.params.append(i,t[i])}return this.http.get(this.url+"/"+e,n)},e.prototype.post=function(e,t,n){var i=new o.i;for(var s in t)i=i.append(s,t[s]);return this.http.post(this.url+"/"+e,i,n)},e.prototype.authenticateToken=function(e){var t=new o.i;for(var n in e)t=t.append(n,e[n]);var i={};return i.params=t,i.headers={Authorization:this.token},this.http.get(this.license_url+"/validate",i)},e.prototype.authenticateLicenseToken=function(e){var t=new o.i;for(var n in e)t=t.append(n,e[n]);return this.http.post(this.clientUrl,t)},e.prototype.postForm=function(e,t,n){var i=new o.i;return this.http.post(this.url+"/"+e,t,{params:i})},e}())},32:function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(0),n(29);var o=function(){function e(e){this.storage=e,this._apiVersion=null}return e.prototype.getApiversion=function(){var e=this;return new Promise(function(t,n){if(e._apiVersion)return t(e._apiVersion);e.storage.get("auth").then(function(o){return o?(e._apiVersion=o.api_version,t(e._apiVersion)):n(!1)})})},e}()},355:function(e,t,n){function o(e){var t=i[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var i={"../pages/dashboard/dashboard.module.ngfactory":[803,10],"../pages/downloads/downloads.module.ngfactory":[804,5],"../pages/license-page/license.module.ngfactory":[805,13],"../pages/login/login.module.ngfactory":[806,12],"../pages/my-courses/my-courses.module.ngfactory":[807,4],"../pages/my-profile-edit/my-profile-edit.module.ngfactory":[808,11],"../pages/my-profile/my-profile.module.ngfactory":[809,9],"../pages/quiz-components/quiz-components.module.ngfactory":[810,1],"../pages/quiz-overview/quiz-overview.module.ngfactory":[811,14],"../pages/quiz/quiz.module.ngfactory":[812,0],"../pages/single-course/single-course.module.ngfactory":[813,8],"../pages/single-lesson/single-lesson.module.ngfactory":[816,3],"../pages/single-quiz/single-quiz.module.ngfactory":[814,7],"../pages/single-topic/single-topic.module.ngfactory":[817,2],"../pages/static/static.module.ngfactory":[815,6]};o.keys=function(){return Object.keys(i)},o.id=355,e.exports=o},514:function(e,t,n){"use strict";function o(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],[[null,"tap"]],function(e,t,n){var o=!0;if("tap"===t){o=!1!==e.component.viewProfile()&&o}return o},null,null))],null,function(e,t){e(t,0,0,l["ɵinlineInterpolate"](1,"",t.component.userPhoto,""))})}function i(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"p",[["class","name"]],null,null,null,null,null)),(e()(),l["ɵted"](1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.userName)})}function s(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,11,"button",[["class","item item-block"],["detail-none",""],["ion-item",""],["ion-text",""]],null,[[null,"click"]],function(e,t,n){var o=!0;if("click"===t){o=!1!==e.component.openPage(e.context.$implicit)&&o}return o},le.b,le.a)),l["ɵdid"](1,1097728,null,3,ue.a,[ce.a,pe.a,l.ElementRef,l.Renderer,[2,de.a]],{color:[0,"color"]},null),l["ɵqud"](335544320,4,{contentLabel:0}),l["ɵqud"](603979776,5,{_buttons:1}),l["ɵqud"](603979776,6,{_icons:1}),l["ɵdid"](5,16384,null,0,fe.a,[],null,null),l["ɵdid"](6,16384,null,0,he.a,[pe.a,l.ElementRef,l.Renderer],{color:[0,"color"]},null),(e()(),l["ɵted"](-1,2,["\n          "])),(e()(),l["ɵeld"](8,0,null,0,1,"ion-icon",[["item-start",""],["role","img"]],[[2,"hide",null]],null,null,null,null)),l["ɵdid"](9,147456,[[6,4]],0,ge.a,[pe.a,l.ElementRef,l.Renderer],{color:[0,"color"],name:[1,"name"]},null),(e()(),l["ɵted"](10,2,["\n        ","\n      "])),l["ɵpid"](131072,b.j,[b.k,l.ChangeDetectorRef])],function(e,t){e(t,1,0,l["ɵinlineInterpolate"](1,"",t.context.$implicit.color,""));e(t,6,0,l["ɵinlineInterpolate"](1,"",t.context.$implicit.color,""));e(t,9,0,l["ɵinlineInterpolate"](1,"",t.context.$implicit.color,""),l["ɵinlineInterpolate"](1,"",t.context.$implicit.icon,""))},function(e,t){e(t,8,0,l["ɵnov"](t,9)._hidden);e(t,10,0,l["ɵunv"](t,10,0,l["ɵnov"](t,11).transform(t.context.$implicit.title)))})}function r(e){return l["ɵvid"](0,[l["ɵqud"](402653184,1,{nav:0}),(e()(),l["ɵeld"](1,0,null,null,42,"ion-menu",[["class","main-menu"],["id","mainMenu"],["persistent","true"],["role","navigation"],["side","right"],["swipeEnabled","true"],["type","overlay"]],null,null,null,me.b,me.a)),l["ɵprd"](6144,null,ye.a,null,[ve.a]),l["ɵdid"](3,245760,null,2,ve.a,[be.a,l.ElementRef,pe.a,_e.a,l.Renderer,we.a,Ce.l,Pe.a,je.a],{content:[0,"content"],id:[1,"id"],type:[2,"type"],side:[3,"side"],swipeEnabled:[4,"swipeEnabled"],persistent:[5,"persistent"]},null),l["ɵqud"](335544320,2,{menuContent:0}),l["ɵqud"](335544320,3,{menuNav:0}),(e()(),l["ɵted"](-1,0,["\n  "])),(e()(),l["ɵeld"](7,0,null,0,35,"ion-content",[["padding-left",""],["padding-right",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Se.b,Se.a)),l["ɵdid"](8,4374528,[[2,4]],0,Ee.a,[pe.a,_e.a,Pe.a,l.ElementRef,l.Renderer,je.a,we.a,l.NgZone,[2,ke.a],[2,Le.a]],null,null),(e()(),l["ɵted"](-1,1,["\n    "])),(e()(),l["ɵted"](-1,1,["\n    "])),(e()(),l["ɵeld"](11,0,null,1,23,"div",[["class","menu-profile-wrap"]],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,["\n      "])),(e()(),l["ɵeld"](13,0,null,null,4,"div",[["class","logout-container"]],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,["\n        "])),(e()(),l["ɵeld"](15,0,null,null,1,"ion-icon",[["class","logout"],["color","light"],["name","lr-logout"],["role","img"]],[[2,"hide",null]],[[null,"click"]],function(e,t,n){var o=!0;if("click"===t){o=!1!==e.component.onLogout()&&o}return o},null,null)),l["ɵdid"](16,147456,null,0,ge.a,[pe.a,l.ElementRef,l.Renderer],{color:[0,"color"],name:[1,"name"]},null),(e()(),l["ɵted"](-1,null,["\n      "])),(e()(),l["ɵted"](-1,null,["\n      "])),(e()(),l["ɵeld"](19,0,null,null,14,"div",[["class","d-flex"]],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,["\n          "])),(e()(),l["ɵand"](16777216,null,null,1,null,o)),l["ɵdid"](22,16384,null,0,Te.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵted"](-1,null,["\n          "])),(e()(),l["ɵeld"](24,0,null,null,8,"div",[["class","menu-profile-detail"]],null,null,null,null,null)),(e()(),l["ɵted"](-1,null,["\n            "])),(e()(),l["ɵand"](16777216,null,null,1,null,i)),l["ɵdid"](27,16384,null,0,Te.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["ɵted"](-1,null,["\n            "])),(e()(),l["ɵeld"](29,0,null,null,2,"p",[["class","view"]],null,[[null,"tap"]],function(e,t,n){var o=!0;if("tap"===t){o=!1!==e.component.viewProfile()&&o}return o},null,null)),(e()(),l["ɵted"](30,null,["",""])),l["ɵpid"](131072,b.j,[b.k,l.ChangeDetectorRef]),(e()(),l["ɵted"](-1,null,["\n          "])),(e()(),l["ɵted"](-1,null,["\n      "])),(e()(),l["ɵted"](-1,null,["\n    "])),(e()(),l["ɵted"](-1,1,["\n    "])),(e()(),l["ɵeld"](36,0,null,1,5,"ion-list",[],null,null,null,null,null)),l["ɵdid"](37,16384,null,0,Me.a,[pe.a,l.ElementRef,l.Renderer,_e.a,Ce.l,Pe.a],null,null),(e()(),l["ɵted"](-1,null,["\n      "])),(e()(),l["ɵand"](16777216,null,null,1,null,s)),l["ɵdid"](40,802816,null,0,Te.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["ɵted"](-1,null,["\n    "])),(e()(),l["ɵted"](-1,1,["\n  "])),(e()(),l["ɵted"](-1,0,["\n"])),(e()(),l["ɵted"](-1,null,["\n\n"])),(e()(),l["ɵeld"](45,0,null,null,2,"ion-nav",[],null,null,null,Re.b,Re.a)),l["ɵprd"](6144,null,ye.a,null,[Ne.a]),l["ɵdid"](47,4374528,[[1,4],["nav",4]],0,Ne.a,[[2,ke.a],[2,Le.a],je.a,pe.a,_e.a,l.ElementRef,l.NgZone,l.Renderer,l.ComponentFactoryResolver,Ce.l,Oe.a,[2,ze.a],Pe.a,l.ErrorHandler],{root:[0,"root"]},null),(e()(),l["ɵted"](-1,null,["\n"]))],function(e,t){var n=t.component;e(t,3,0,l["ɵnov"](t,47),"mainMenu","overlay","right","true","true");e(t,16,0,"light","lr-logout");e(t,22,0,n.userPhoto);e(t,27,0,n.userName);e(t,40,0,n.pages);e(t,47,0,n.rootPage)},function(e,t){e(t,7,0,l["ɵnov"](t,8).statusbarPadding,l["ɵnov"](t,8)._hasRefresher);e(t,15,0,l["ɵnov"](t,16)._hidden);e(t,30,0,l["ɵunv"](t,30,0,l["ɵnov"](t,31).transform("VIEW_PROFILE")))})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(44),l=n(1),u=(n(0),n(200)),c=(n(33),n(29)),p=n(134),d=n(135),f=n(198),h=n(136),g=n(86),m=n(85),y=n(87),v=n(63),b=n(83),_=n(798),w=n(137),C=n(201),P=n(64),j=n(84),S=n(54),E=(n(264),n(283),n(103)),k=function(){function e(e,t,n){this.injector=e,this.loading=t,this.toast=n}return e.prototype.intercept=function(e,t){var n=this;return this.auth=this.injector.get(S.a),this.auth.getTokenObservable().mergeMap(function(o){return n.interceptorFunction(o,e,t)})},e.prototype.interceptorFunction=function(e,t,n){var o=this;if(e){var i=t;t.url!==E.a.TOKEN_URL+"/validate"&&t.url!==E.a.LICENSE_URL&&(i=t.clone({headers:t.headers.set("Authorization","Bearer "+e)}));var s=Date.now();return n.handle(i).do(function(e){if(e instanceof v.j){var n=Date.now()-s;console.log("Logging Http",e),console.log("Request for "+t.urlWithParams+" took "+n+" ms.")}},function(e){e instanceof v.f&&(console.log(e),0===e.status&&(o.loading.dissmissLoader(),o.toast.showToast({message:"No internet connection"})),403===e.status&&(o.loading.dissmissLoader(),o.auth.logout()),500===e.status&&(o.loading.dissmissLoader(),o.toast.showToast({message:"Server error"})))})}var r=Date.now();return n.handle(t).do(function(e){if(e instanceof v.j){var n=Date.now()-r;console.log("Logging Http",e),console.log("Request for "+t.urlWithParams+" took "+n+" ms.")}},function(e){e instanceof v.f&&(0===e.status&&(o.loading.dissmissLoader(),o.toast.showToast({message:"No internet connection"})),500===e.status&&(o.loading.dissmissLoader(),o.toast.showToast({message:"Server error"})))})},e}(),L=n(95),T=n(30),M=n(32),R=n(3),N=n.n(R),O=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(r,a)}l((o=o.apply(e,t||[])).next())})},z=this&&this.__generator||function(e,t){function n(n){return function(r){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(s=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,r])}}var o,i,s,r,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r},A=function(){function e(e,t,n,o){this.api=e,this.helper=t,this.storage=n,this.events=o,this.baseDomain=E.a.TOKEN_API}return e.prototype.validateToken=function(){return O(this,void 0,void 0,function(){var e,t,n=this;return z(this,function(o){switch(o.label){case 0:return[4,this.storage.get("license")];case 1:return e=o.sent(),t={domainName:""+this.baseDomain},e&&(t=Object.assign({},t,{uuid:e})),this.api.authenticateToken(t).toPromise().then(function(t){console.log(t),e||n.storage.set("license",t.uuid)}).catch(function(e){console.log(e),n.events.publish("license:invalid")}),[2]}})})},e.prototype.validateLicenseToken=function(){return O(this,void 0,void 0,function(){var e,t=this;return z(this,function(n){return e={key:E.a.LICENSE_TOKEN},this.api.authenticateLicenseToken(e).toPromise().then(function(e){console.info(e),e.data.status||t.events.publish("license:invalid")}).catch(function(e){console.log(e)}),[2]})})},e.prototype.checkDate=function(){return O(this,void 0,void 0,function(){var e,t;return z(this,function(n){switch(n.label){case 0:return[4,this.storage.get("sdate")];case 1:return e=n.sent(),console.info(e),t=N()().format("MMM Do YY"),null!=e&&e===t||(this.events.publish("date:new"),this.storage.set("sdate",t)),[2]}})})},e}(),I=n(90),D=function(){function e(e,t,n,o,i,s,r,a,l,u,c,p,d,f,h,g,m){var y=this;this.platform=e,this.translate=t,this.events=s,this.auth=r,this.user=a,this.menuCtrl=l,this.toastCtrl=u,this.alertCtrl=c,this.loader=p,this.license=d,this.storage=f,this.app=h,this.fb=g,this.network=m,this.currentPage="MY_COURSES",this.pages=[{title:"MY_COURSES",component:"MyCoursesPage",color:"primary",icon:"lr-book"},{title:"DOWNLOADS",component:"DownloadsPage",color:"primary",icon:"cloud-download"}],e.ready().then(function(){y.fb.grantFCMPermission(),"none"!=y.network.type&&(console.log("network connected!"),y.license.checkDate(),y.license.validateToken(),y.events.subscribe("date:new",function(){console.log("date:new"),y.license.validateLicenseToken()})),n.overlaysWebView(!1),e.is("ios")&&n.styleDefault(),e.is("android")&&n.styleLightContent(),o.hide(),i.tint("#005FB8"),y.listenToLicenseEvent()}),this.initTranslate(),e.registerBackButtonAction(function(){var e=y.app._appRoot._overlayPortal.getActive(),t=y.app.getActiveNav();y.loader.dissmissLoader(),e&&e.dismiss?e.dismiss():y.menuCtrl.isOpen()?y.menuCtrl.close():Date.now()-y.lastBack<300?y.presentConfirm():t.canGoBack()?t.pop():y.presentConfirm(),y.lastBack=Date.now()}),this.auth.isAuthenticated(),this.listenToLoginEvents(),this.listenToMenuEvents(),this.listenToProfileUpdate(),this.listenToNotificationEvents()}return e.prototype.initTranslate=function(){this.translate.setDefaultLang("en"),this.translate.use("en")},e.prototype.listenToLoginEvents=function(){var e=this;this.events.subscribe("user:authenticated",function(){e.rootPage="MyCoursesPage",e.enableMenu(!0),e.loadUser(!1,!0)}),this.events.subscribe("user:loggedin",function(){e.rootPage="MyCoursesPage",e.enableMenu(!0),e.loadUser(!0,!1)}),this.events.subscribe("user:loggedout",function(){e.rootPage="LoginPage",e.enableMenu(!1)})},e.prototype.listenToLicenseEvent=function(){var e=this;this.events.subscribe("license:invalid",function(){e.rootPage="LicensePage",e.enableMenu(!1)})},e.prototype.listenToMenuEvents=function(){var e=this;this.events.subscribe("menu:reset",function(){e.resetMenu()}),this.events.subscribe("menu:enable",function(t){e.enableMenu(t)})},e.prototype.listenToProfileUpdate=function(){var e=this;this.events.subscribe("profile:update",function(){e.loadUser(!1,!0)})},e.prototype.enableMenu=function(e){this.menuCtrl.enable(e,"mainMenu")},e.prototype.viewProfile=function(){this.nav.push("MyProfilePage"),this.menuCtrl.close(),this.resetMenu()},e.prototype.listenToNotificationEvents=function(){var e=this;this.events.subscribe("notification:course",function(t){setTimeout(function(){return e.nav.push("SingleCoursePage",t)},1e3)}),this.events.subscribe("notification:lesson",function(t){setTimeout(function(){return e.nav.push("SingleLessonPage",{course_id:t.course_id,lesson_id:t.lesson_id})},1e3)})},e.prototype.openPage=function(e){if(this.nav.getActive().id===e.component)return this.menuCtrl.close();"StaticPage"===e.component?(this.nav.push(e.component,{id:e.id,name:e.name,title:e.title}),this.currentPage=e.title):"MyCoursesPage"===e.component?this.nav.popToRoot():"DownloadsPage"===e.component?(this.nav.push("DownloadsPage"),this.currentPage=e.title):(this.nav.push(e.component),this.currentPage=e.title),this.menuCtrl.close()},e.prototype.resetMenu=function(){this.currentPage="";for(var e=0,t=this.pages;e<t.length;e++){t[e].color="primary"}},e.prototype.onLogout=function(){this.auth.logout(),this.menuCtrl.close()},e.prototype.loadUser=function(e,t){var n=this;this.user.getUser(t).then(function(t){if(t.avatar_urls[96]&&(n.userPhoto=t.avatar_urls[96]),n.userName=t.first_name,e)return n.fb.logLogin(t);n.fb.setUserId(t.id)}).catch(function(e){console.log(e)})},e.prototype.presentConfirm=function(){var e=this;this.alertCtrl.create({title:"Exit app",message:"Do you want to exit?",buttons:[{text:"Yes",handler:function(){e.platform.exitApp()}},{text:"No",role:"cancel",handler:function(){console.log("Cancel clicked")}}]}).present()},e}(),x=n(89),F=n(98),U=n(101),q=n(53),H=n(196),J=n(204),G=n(197),B=n(194),K=n(195),V=n(199),Z=n(203),Q=n(178),Y=function(e){return new _.a(e,"./assets/i18n/",".json")},W=function(){return function(){}}(),X=n(78),$=n(502),ee=n(503),te=n(504),ne=n(505),oe=n(506),ie=n(507),se=n(508),re=n(509),ae=n(510),le=n(206),ue=n(26),ce=n(23),pe=n(4),de=n(59),fe=n(94),he=n(190),ge=n(57),me=n(801),ye=n(52),ve=n(128),be=n(38),_e=n(7),we=n(41),Ce=n(11),Pe=n(14),je=n(13),Se=n(511),Ee=n(36),ke=n(8),Le=n(35),Te=n(19),Me=n(67),Re=n(802),Ne=n(82),Oe=n(49),ze=n(24),Ae=n(96),Ie=n(133),De=n(97),xe=n(177),Fe=l["ɵcrt"]({encapsulation:2,styles:[],data:{}}),Ue=l["ɵccf"]("ng-component",D,function(e){return l["ɵvid"](0,[(e()(),l["ɵeld"](0,0,null,null,1,"ng-component",[],null,null,null,r,Fe)),l["ɵdid"](1,49152,null,0,D,[_e.a,b.k,d.a,p.a,h.a,Ae.a,S.a,L.a,be.a,Ie.a,De.a,P.a,A,xe.a,je.a,I.a,w.a],null,null)],null,null)},{},{},[]),qe=n(179),He=n(175),Je=n(28),Ge=n(91),Be=n(93),Ke=n(170),Ve=n(51),Ze=n(205),Qe=n(80),Ye=n(58),We=n(183),Xe=n(100),$e=n(185),et=n(181),tt=n(374),nt=n(180),ot=n(176),it=n(182),st=n(92),rt=l["ɵcmf"](W,[X.b],function(e){return l["ɵmod"]([l["ɵmpd"](512,l.ComponentFactoryResolver,l["ɵCodegenComponentFactoryResolver"],[[8,[$.a,ee.a,te.a,ne.a,oe.a,ie.a,se.a,re.a,ae.a,Ue]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["ɵmpd"](5120,l.LOCALE_ID,l["ɵm"],[[3,l.LOCALE_ID]]),l["ɵmpd"](4608,Te.NgLocalization,Te.NgLocaleLocalization,[l.LOCALE_ID,[2,Te["ɵa"]]]),l["ɵmpd"](5120,l.APP_ID,l["ɵf"],[]),l["ɵmpd"](5120,l.IterableDiffers,l["ɵk"],[]),l["ɵmpd"](5120,l.KeyValueDiffers,l["ɵl"],[]),l["ɵmpd"](4608,a.DomSanitizer,a["ɵe"],[Te.DOCUMENT]),l["ɵmpd"](6144,l.Sanitizer,null,[a.DomSanitizer]),l["ɵmpd"](4608,a.HAMMER_GESTURE_CONFIG,qe.a,[]),l["ɵmpd"](5120,a.EVENT_MANAGER_PLUGINS,function(e,t,n,o,i){return[new a["ɵDomEventsPlugin"](e,t),new a["ɵKeyEventsPlugin"](n),new a["ɵHammerGesturesPlugin"](o,i)]},[Te.DOCUMENT,l.NgZone,Te.DOCUMENT,Te.DOCUMENT,a.HAMMER_GESTURE_CONFIG]),l["ɵmpd"](4608,a.EventManager,a.EventManager,[a.EVENT_MANAGER_PLUGINS,l.NgZone]),l["ɵmpd"](135680,a["ɵDomSharedStylesHost"],a["ɵDomSharedStylesHost"],[Te.DOCUMENT]),l["ɵmpd"](4608,a["ɵDomRendererFactory2"],a["ɵDomRendererFactory2"],[a.EventManager,a["ɵDomSharedStylesHost"]]),l["ɵmpd"](6144,l.RendererFactory2,null,[a["ɵDomRendererFactory2"]]),l["ɵmpd"](6144,a["ɵSharedStylesHost"],null,[a["ɵDomSharedStylesHost"]]),l["ɵmpd"](4608,l.Testability,l.Testability,[l.NgZone]),l["ɵmpd"](4608,a.Meta,a.Meta,[Te.DOCUMENT]),l["ɵmpd"](4608,a.Title,a.Title,[Te.DOCUMENT]),l["ɵmpd"](4608,v.l,v.q,[Te.DOCUMENT,l.PLATFORM_ID,v.o]),l["ɵmpd"](4608,v.r,v.r,[v.l,v.p]),l["ɵmpd"](4608,He.a,He.a,[je.a,pe.a]),l["ɵmpd"](4608,P.a,P.a,[He.a]),l["ɵmpd"](4608,Ie.a,Ie.a,[je.a,pe.a]),l["ɵmpd"](4608,j.a,j.a,[Ie.a]),l["ɵmpd"](5120,v.a,function(e,t,n,o){return[e,new k(t,n,o)]},[v.r,l.Injector,P.a,j.a]),l["ɵmpd"](4608,v.n,v.n,[]),l["ɵmpd"](6144,v.m,null,[v.n]),l["ɵmpd"](4608,v.k,v.k,[v.m]),l["ɵmpd"](6144,v.b,null,[v.k]),l["ɵmpd"](5120,v.g,v.s,[v.b,[2,v.a]]),l["ɵmpd"](4608,v.c,v.c,[v.g]),l["ɵmpd"](4608,Je.v,Je.v,[]),l["ɵmpd"](4608,Je.d,Je.d,[]),l["ɵmpd"](4608,Ge.RoundProgressService,Ge.RoundProgressService,[[2,a.DOCUMENT]]),l["ɵmpd"](4608,Be.RoundProgressEase,Be.RoundProgressEase,[]),l["ɵmpd"](5120,b.g,Y,[v.c]),l["ɵmpd"](4608,b.c,b.e,[]),l["ɵmpd"](4608,b.i,b.d,[]),l["ɵmpd"](4608,b.b,b.a,[]),l["ɵmpd"](4608,b.n,b.n,[]),l["ɵmpd"](4608,b.k,b.k,[b.n,b.g,b.c,b.i,b.b,b.l,b.m]),l["ɵmpd"](4608,Ke.a,Ke.a,[je.a,pe.a]),l["ɵmpd"](4608,De.a,De.a,[je.a,pe.a]),l["ɵmpd"](4608,Ae.a,Ae.a,[]),l["ɵmpd"](4608,ce.a,ce.a,[]),l["ɵmpd"](4608,Ve.a,Ve.a,[_e.a]),l["ɵmpd"](4608,we.a,we.a,[pe.a,_e.a,l.NgZone,Pe.a]),l["ɵmpd"](5120,Te.LocationStrategy,Ze.c,[Te.PlatformLocation,[2,Te.APP_BASE_HREF],pe.a]),l["ɵmpd"](4608,Te.Location,Te.Location,[Te.LocationStrategy]),l["ɵmpd"](5120,Qe.b,Qe.d,[je.a,Qe.a]),l["ɵmpd"](5120,ze.a,ze.b,[je.a,Qe.b,Te.Location,Ye.b,l.ComponentFactoryResolver]),l["ɵmpd"](4608,We.a,We.a,[je.a,pe.a,ze.a]),l["ɵmpd"](4608,Xe.a,Xe.a,[je.a,pe.a]),l["ɵmpd"](4608,$e.a,$e.a,[je.a,pe.a,ze.a]),l["ɵmpd"](4608,et.a,et.a,[pe.a,_e.a,Pe.a,je.a,Ce.l]),l["ɵmpd"](4608,Oe.a,Oe.a,[_e.a,pe.a]),l["ɵmpd"](5120,xe.a,xe.c,[xe.b]),l["ɵmpd"](4608,d.a,d.a,[]),l["ɵmpd"](4608,p.a,p.a,[]),l["ɵmpd"](4608,h.a,h.a,[]),l["ɵmpd"](4608,f.a,f.a,[]),l["ɵmpd"](4608,w.a,w.a,[]),l["ɵmpd"](4608,g.a,g.a,[]),l["ɵmpd"](4608,g.b,g.b,[]),l["ɵmpd"](4608,m.a,m.a,[]),l["ɵmpd"](4608,B.a,B.a,[]),l["ɵmpd"](4608,y.a,y.a,[]),l["ɵmpd"](4608,T.a,T.a,[v.c]),l["ɵmpd"](4608,L.a,L.a,[T.a,xe.a]),l["ɵmpd"](4608,M.a,M.a,[xe.a]),l["ɵmpd"](4608,S.a,S.a,[xe.a,Ae.a,T.a,v.g,M.a]),l["ɵmpd"](4608,q.a,q.a,[T.a,xe.a,M.a,Ae.a]),l["ɵmpd"](4608,x.a,x.a,[T.a,xe.a,M.a,q.a]),l["ɵmpd"](4608,F.a,F.a,[T.a,xe.a,M.a,q.a]),l["ɵmpd"](4608,U.a,U.a,[T.a,xe.a,M.a,q.a]),l["ɵmpd"](4608,H.a,H.a,[T.a,M.a,F.a,x.a,U.a,q.a,g.a,m.a,_e.a,y.a,S.a,xe.a]),l["ɵmpd"](4608,J.a,J.a,[T.a,M.a,q.a]),l["ɵmpd"](4608,A,A,[T.a,M.a,xe.a,Ae.a]),l["ɵmpd"](4608,G.a,G.a,[We.a]),l["ɵmpd"](4608,K.a,K.a,[]),l["ɵmpd"](4608,I.a,I.a,[B.a,xe.a,T.a,K.a,S.a,be.a,Ae.a,M.a]),l["ɵmpd"](4608,Q.a,Q.a,[]),l["ɵmpd"](4608,Z.a,Z.a,[v.c,x.a,F.a,U.a,T.a,M.a,g.a,y.a,m.a,Q.a,j.a,Ae.a]),l["ɵmpd"](4608,u.a,u.a,[]),l["ɵmpd"](4608,V.a,V.a,[]),l["ɵmpd"](512,Te.CommonModule,Te.CommonModule,[]),l["ɵmpd"](512,l.ErrorHandler,tt.a,[]),l["ɵmpd"](256,pe.b,{scrollAssist:!1},[]),l["ɵmpd"](1024,nt.a,nt.b,[]),l["ɵmpd"](1024,_e.a,_e.b,[a.DOCUMENT,nt.a,l.NgZone]),l["ɵmpd"](1024,pe.a,pe.c,[pe.b,_e.a]),l["ɵmpd"](512,Pe.a,Pe.a,[_e.a]),l["ɵmpd"](512,be.a,be.a,[]),l["ɵmpd"](512,je.a,je.a,[pe.a,_e.a,[2,be.a]]),l["ɵmpd"](512,Ce.l,Ce.l,[je.a]),l["ɵmpd"](256,Qe.a,{links:[{loadChildren:"../pages/dashboard/dashboard.module.ngfactory#DashboardPageModuleNgFactory",name:"DashboardPage",segment:"dashboard",priority:"low",defaultHistory:[]},{loadChildren:"../pages/downloads/downloads.module.ngfactory#DownloadsPageModuleNgFactory",name:"DownloadsPage",segment:"downloads",priority:"low",defaultHistory:[]},{loadChildren:"../pages/license-page/license.module.ngfactory#LicensePageModuleNgFactory",name:"LicensePage",segment:"license",priority:"low",defaultHistory:[]},{loadChildren:"../pages/login/login.module.ngfactory#LoginPageModuleNgFactory",name:"LoginPage",segment:"login",priority:"low",defaultHistory:[]},{loadChildren:"../pages/my-courses/my-courses.module.ngfactory#MyCoursesPageModuleNgFactory",name:"MyCoursesPage",segment:"my-courses",priority:"low",defaultHistory:[]},{loadChildren:"../pages/my-profile-edit/my-profile-edit.module.ngfactory#MyProfileEditPageModuleNgFactory",name:"MyProfileEditPage",segment:"my-profile-edit",priority:"low",defaultHistory:[]},{loadChildren:"../pages/my-profile/my-profile.module.ngfactory#MyProfilePageModuleNgFactory",name:"MyProfilePage",segment:"my-profile",priority:"low",defaultHistory:[]},{loadChildren:"../pages/quiz-components/quiz-components.module.ngfactory#QuizComponentsPageModuleNgFactory",name:"QuizComponentsPage",segment:"quiz-components",priority:"low",defaultHistory:[]},{loadChildren:"../pages/quiz-overview/quiz-overview.module.ngfactory#QuizOverviewPageModuleNgFactory",name:"QuizOverviewPage",segment:"quiz-overview",priority:"low",defaultHistory:[]},{loadChildren:"../pages/quiz/quiz.module.ngfactory#QuizPageModuleNgFactory",name:"QuizPage",segment:"quiz",priority:"low",defaultHistory:[]},{loadChildren:"../pages/single-course/single-course.module.ngfactory#SingleCoursePageModuleNgFactory",name:"SingleCoursePage",segment:"single-course",priority:"low",defaultHistory:[]},{loadChildren:"../pages/single-quiz/single-quiz.module.ngfactory#SingleQuizPageModuleNgFactory",name:"SingleQuizPage",segment:"single-quiz",priority:"low",defaultHistory:[]},{loadChildren:"../pages/static/static.module.ngfactory#StaticPageModuleNgFactory",name:"StaticPage",segment:"static",priority:"low",defaultHistory:[]},{loadChildren:"../pages/single-lesson/single-lesson.module.ngfactory#SingleLessonPageModuleNgFactory",name:"SingleLessonPage",segment:"single-lesson",priority:"low",defaultHistory:[]},{loadChildren:"../pages/single-topic/single-topic.module.ngfactory#SingleTopicPageModuleNgFactory",name:"SingleTopicPage",segment:"single-topic",priority:"low",defaultHistory:[]}]},[]),l["ɵmpd"](512,l.Compiler,l.Compiler,[]),l["ɵmpd"](512,ot.a,ot.a,[l.Compiler]),l["ɵmpd"](1024,Ye.b,Ye.c,[ot.a,l.Injector]),l["ɵmpd"](1024,l.APP_INITIALIZER,function(e,t,n,o,i,s,r,l,u,c,p,d,f){return[a["ɵh"](e),it.a(t),Ae.b(n,o),et.b(i,s,r,l,u),Ye.d(c,p,d,f)]},[[2,l.NgProbeToken],pe.a,_e.a,Pe.a,pe.a,_e.a,Pe.a,je.a,Ce.l,pe.a,Qe.a,Ye.b,l.NgZone]),l["ɵmpd"](512,l.ApplicationInitStatus,l.ApplicationInitStatus,[[2,l.APP_INITIALIZER]]),l["ɵmpd"](131584,l.ApplicationRef,l.ApplicationRef,[l.NgZone,l["ɵConsole"],l.Injector,l.ErrorHandler,l.ComponentFactoryResolver,l.ApplicationInitStatus]),l["ɵmpd"](512,l.ApplicationModule,l.ApplicationModule,[l.ApplicationRef]),l["ɵmpd"](512,a.BrowserModule,a.BrowserModule,[[3,a.BrowserModule]]),l["ɵmpd"](512,v.e,v.e,[]),l["ɵmpd"](512,v.d,v.d,[]),l["ɵmpd"](512,b.h,b.h,[]),l["ɵmpd"](512,Je.t,Je.t,[]),l["ɵmpd"](512,Je.h,Je.h,[]),l["ɵmpd"](512,Je.q,Je.q,[]),l["ɵmpd"](512,Ze.a,Ze.a,[]),l["ɵmpd"](512,c.a,c.a,[]),l["ɵmpd"](512,C.RoundProgressModule,C.RoundProgressModule,[]),l["ɵmpd"](512,W,W,[]),l["ɵmpd"](256,v.o,"XSRF-TOKEN",[]),l["ɵmpd"](256,v.p,"X-XSRF-TOKEN",[]),l["ɵmpd"](256,st.ROUND_PROGRESS_DEFAULTS,{radius:125,animation:"easeOutCubic",animationDelay:null,duration:500,stroke:15,color:"#45CCCE",background:"#EAEAEA",responsive:!1,clockwise:!0,semicircle:!1,rounded:!1},[]),l["ɵmpd"](256,b.m,void 0,[]),l["ɵmpd"](256,b.l,void 0,[]),l["ɵmpd"](256,X.a,D,[]),l["ɵmpd"](256,Te.APP_BASE_HREF,"/",[]),l["ɵmpd"](256,xe.b,null,[])])});Object(l.enableProdMode)(),Object(a.platformBrowser)().bootstrapModuleFactory(rt)},53:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(0),n(29),n(30);var o=n(2),i=(n.n(o),n(42)),s=(n.n(i),n(32),n(33),this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(r,a)}l((o=o.apply(e,t||[])).next())})}),r=this&&this.__generator||function(e,t){function n(n){return function(r){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(s=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,r])}}var o,i,s,r,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r},a=function(){function e(e,t,n,o){this.api=e,this.storage=t,this.helper=n,this.events=o}return e.prototype.isCourseExpired=function(e){return s(this,void 0,void 0,function(){var t,n;return r(this,function(o){switch(o.label){case 0:return[4,this.storage.get("MyCourses")];case 1:if(!(t=o.sent()))return[2];for(n in t)if(t[n].id===e)return this.courseRedirect(t[n].expiry_date_ts),[2];return[2]}})})},e.prototype.courseRedirect=function(e){if(e){Math.round((new Date).getTime()/1e3)>e&&this.events.publish("mycourses")}},e.prototype.getMyCourses=function(){var e=this;return o.Observable.create(function(t){e._getMyCoursesLocal().then(function(e){t.next(e)}),e._getMyCoursesRemote().then(function(n){e._updateMyCoursesLocal(n),t.next(n),t.complete()}).catch(function(e){return console.log(e)})})},e.prototype._getMyCoursesRemote=function(){var e=this;return new Promise(function(t,n){e.helper.getApiversion().then(function(n){var o=e.api.get("learndash/"+n+"/my-courses");t(o.toPromise())})})},e.prototype._getMyCoursesLocal=function(){var e=this;return new Promise(function(t,n){e.storage.get("MyCourses").then(function(e){e&&t(e)})})},e.prototype._getCoursesOffline=function(){var e=this;return new Promise(function(t,n){e.storage.get("offlineCourses").then(function(e){e&&t(e)})})},e.prototype._updateMyCoursesLocal=function(e){this.storage.set("MyCourses",e)},e.prototype._deleteSingleCourseOffline=function(e,t){var n=this;return void 0===t&&(t="offlineCourses"),new Promise(function(o,i){n.storage.get(t).then(function(i){i||(i={}),delete i[e],o(n.storage.set(t,i))})})},e}()},54:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(0);var o=n(63),i=(n(29),n(33),n(2)),s=(n.n(i),n(240)),r=(n.n(s),n(303)),a=(n.n(r),n(30),n(32),function(){function e(e,t,n,o,i){this.storage=e,this.events=t,this.api=n,this.httphandler=o,this.helper=i,this._token=null}return e.prototype.collectFailedRequest=function(e){this.cachedRequests=e},e.prototype.retryFailedRequests=function(){console.log("Retrying Requests"),this.httphandler.handle(this.cachedRequests)},e.prototype.login=function(e,t){var n=this,i=this.api.post("learndash/token",{username:e,password:t},{headers:(new o.h).set("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")}).share();return i.subscribe(function(e){n._token=e.token,n.storage.set("auth",e),n.events.publish("user:loggedin")},function(e){console.error()}),i},e.prototype.getTokenObservable=function(){return i.Observable.fromPromise(this.getToken())},e.prototype.getToken=function(){var e=this;return new Promise(function(t,n){if(e._token)return t(e._token);e.storage.get("auth").then(function(n){return n?(e._token=n.token,t(e._token)):t(!1)})})},e.prototype.isAuthenticated=function(){var e=this;this.storage.get("auth").then(function(t){e.events.publish(t?"user:authenticated":"user:loggedout")})},e.prototype.refreshToken=function(){var e=this,t=new o.i,n=this.api.post("oauth/token/",t,{headers:(new o.h).set("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")}).share();return n.subscribe(function(t){e._token=t.access_token,e.storage.set("auth",t)},function(e){console.error()}),n},e.prototype.logout=function(){this.removeToken(this._token),this._token=null;var e=this.storage.get("license");this.storage.clear(),this.storage.set("license",e),this.events.publish("user:loggedout")},e.prototype.removeToken=function(e){var t=this;this.storage.get("fcm").then(function(n){console.log(e);var i={};i.device_id=n,t.helper.getApiversion().then(function(n){var s=t.api.post("notifications/v2/deregister",i,{headers:(new o.h).set("Authorization","Bearer "+e)});console.log(JSON.stringify(s)),s.subscribe(function(e){console.log("fcm tokens updated",JSON.stringify(e))},function(e){console.error(JSON.stringify(e))})})})},e}())},64:function(e,t,n){"use strict";n.d(t,"a",function(){return i});n(0),n(33);var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},i=function(){function e(e){this.loadingCtrl=e}return e.prototype.showLoader=function(e){void 0===e&&(e={}),this._loader=this.loadingCtrl.create(o({showBackdrop:!1,duration:1e4},e)),this._loader.present()},e.prototype.dissmissLoader=function(){null!==this._loader&&(this._loader.dismiss(),this._loader=null)},e}()},800:function(e,t,n){function o(e){return n(i(e))}function i(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var s={"./af":375,"./af.js":375,"./ar":376,"./ar-dz":377,"./ar-dz.js":377,"./ar-kw":378,"./ar-kw.js":378,"./ar-ly":379,"./ar-ly.js":379,"./ar-ma":380,"./ar-ma.js":380,"./ar-sa":381,"./ar-sa.js":381,"./ar-tn":382,"./ar-tn.js":382,"./ar.js":376,"./az":383,"./az.js":383,"./be":384,"./be.js":384,"./bg":385,"./bg.js":385,"./bm":386,"./bm.js":386,"./bn":387,"./bn.js":387,"./bo":388,"./bo.js":388,"./br":389,"./br.js":389,"./bs":390,"./bs.js":390,"./ca":391,"./ca.js":391,"./cs":392,"./cs.js":392,"./cv":393,"./cv.js":393,"./cy":394,"./cy.js":394,"./da":395,"./da.js":395,"./de":396,"./de-at":397,"./de-at.js":397,"./de-ch":398,"./de-ch.js":398,"./de.js":396,"./dv":399,"./dv.js":399,"./el":400,"./el.js":400,"./en-SG":401,"./en-SG.js":401,"./en-au":402,"./en-au.js":402,"./en-ca":403,"./en-ca.js":403,"./en-gb":404,"./en-gb.js":404,"./en-ie":405,"./en-ie.js":405,"./en-il":406,"./en-il.js":406,"./en-nz":407,"./en-nz.js":407,"./eo":408,"./eo.js":408,"./es":409,"./es-do":410,"./es-do.js":410,"./es-us":411,"./es-us.js":411,"./es.js":409,"./et":412,"./et.js":412,"./eu":413,"./eu.js":413,"./fa":414,"./fa.js":414,"./fi":415,"./fi.js":415,"./fo":416,"./fo.js":416,"./fr":417,"./fr-ca":418,"./fr-ca.js":418,"./fr-ch":419,"./fr-ch.js":419,"./fr.js":417,"./fy":420,"./fy.js":420,"./ga":421,"./ga.js":421,"./gd":422,"./gd.js":422,"./gl":423,"./gl.js":423,"./gom-latn":424,"./gom-latn.js":424,"./gu":425,"./gu.js":425,"./he":426,"./he.js":426,"./hi":427,"./hi.js":427,"./hr":428,"./hr.js":428,"./hu":429,"./hu.js":429,"./hy-am":430,"./hy-am.js":430,"./id":431,"./id.js":431,"./is":432,"./is.js":432,"./it":433,"./it-ch":434,"./it-ch.js":434,"./it.js":433,"./ja":435,"./ja.js":435,"./jv":436,"./jv.js":436,"./ka":437,"./ka.js":437,"./kk":438,"./kk.js":438,"./km":439,"./km.js":439,"./kn":440,"./kn.js":440,"./ko":441,"./ko.js":441,"./ku":442,"./ku.js":442,"./ky":443,"./ky.js":443,"./lb":444,"./lb.js":444,"./lo":445,"./lo.js":445,"./lt":446,"./lt.js":446,"./lv":447,"./lv.js":447,"./me":448,"./me.js":448,"./mi":449,"./mi.js":449,"./mk":450,"./mk.js":450,"./ml":451,"./ml.js":451,"./mn":452,"./mn.js":452,"./mr":453,"./mr.js":453,"./ms":454,"./ms-my":455,"./ms-my.js":455,"./ms.js":454,"./mt":456,"./mt.js":456,"./my":457,"./my.js":457,"./nb":458,"./nb.js":458,"./ne":459,"./ne.js":459,"./nl":460,"./nl-be":461,"./nl-be.js":461,"./nl.js":460,"./nn":462,"./nn.js":462,"./pa-in":463,"./pa-in.js":463,"./pl":464,"./pl.js":464,"./pt":465,"./pt-br":466,"./pt-br.js":466,"./pt.js":465,"./ro":467,"./ro.js":467,"./ru":468,"./ru.js":468,"./sd":469,"./sd.js":469,"./se":470,"./se.js":470,"./si":471,"./si.js":471,"./sk":472,"./sk.js":472,"./sl":473,"./sl.js":473,"./sq":474,"./sq.js":474,"./sr":475,"./sr-cyrl":476,"./sr-cyrl.js":476,"./sr.js":475,"./ss":477,"./ss.js":477,"./sv":478,"./sv.js":478,"./sw":479,"./sw.js":479,"./ta":480,"./ta.js":480,"./te":481,"./te.js":481,"./tet":482,"./tet.js":482,"./tg":483,"./tg.js":483,"./th":484,"./th.js":484,"./tl-ph":485,"./tl-ph.js":485,"./tlh":486,"./tlh.js":486,"./tr":487,"./tr.js":487,"./tzl":488,"./tzl.js":488,"./tzm":489,"./tzm-latn":490,"./tzm-latn.js":490,"./tzm.js":489,"./ug-cn":491,"./ug-cn.js":491,"./uk":492,"./uk.js":492,"./ur":493,"./ur.js":493,"./uz":494,"./uz-latn":495,"./uz-latn.js":495,"./uz.js":494,"./vi":496,"./vi.js":496,"./x-pseudo":497,"./x-pseudo.js":497,"./yo":498,"./yo.js":498,"./zh-cn":499,"./zh-cn.js":499,"./zh-hk":500,"./zh-hk.js":500,"./zh-tw":501,"./zh-tw.js":501};o.keys=function(){return Object.keys(s)},o.resolve=i,e.exports=o,o.id=800},84:function(e,t,n){"use strict";n.d(t,"a",function(){return i});n(0),n(33);var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},i=function(){function e(e){this.toastCtrl=e}return e.prototype.showToast=function(e){this._toast=this.toastCtrl.create(o({duration:3e3,position:"bottom"},e)),this._toast.present()},e.prototype.dissmissToast=function(){this._toast.dismiss()},e}()},89:function(e,t,n){"use strict";n.d(t,"a",function(){return s});n(0),n(29),n(30);var o=n(2),i=(n.n(o),n(42)),s=(n.n(i),n(32),n(53),function(){function e(e,t,n,o){this.api=e,this.storage=t,this.helper=n,this.mycourses=o}return e.prototype.getSingleCourse=function(e){var t=this;this.mycourses.isCourseExpired(e);return o.Observable.create(function(n){t._getSingleCourseLocal(e).then(function(e){n.next(e)}),t._getSingleCourseRemote(e).then(function(e){t._updateSingleCourseLocal(e),n.next(e),n.complete()}).catch(function(e){return console.log(e)})})},e.prototype._getSingleCourseRemote=function(e){var t=this,n={course_id:e};return new Promise(function(e,o){t.helper.getApiversion().then(function(o){var i=t.api.get("learndash/"+o+"/course",n);e(i.toPromise())})})},e.prototype._getSingleCourseLocal=function(e,t){var n=this;return void 0===t&&(t="singlecourses"),new Promise(function(o,i){n.storage.get(t).then(function(t){t&&t[e]&&o(t[e])})})},e.prototype._updateSingleCourseLocal=function(e,t){var n=this;void 0===t&&(t="singlecourses"),this.storage.get(t).then(function(o){o||(o={}),o[e.id]=e,n.storage.set(t,o)})},e}())},90:function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(0),n(194),n(29),n(30),n(195),n(33),n(54),n(32);var o=function(){function e(e,t,n,o,i,s,r,a){this.firebase=e,this.storage=t,this.api=n,this.localNotifications=o,this.auth=i,this.menuCtrl=s,this.events=r,this.helper=a}return e.prototype.grantFCMPermission=function(){this.firebase.grantPermission()},e.prototype.getToken=function(){var e=this;this.firebase.getToken().then(function(t){e.storage.get("fcm").then(function(n){console.info(n),n||(n={},console.info(JSON.stringify(n))),console.log(t),t!=n&&(e.storage.set("fcm",t),n.device_id=t,e.helper.getApiversion().then(function(t){var o=e.api.post("notifications/v2/register",n);console.log(JSON.stringify(o)),o.subscribe(function(e){console.log("fcm tokens updated",JSON.stringify(e))},function(e){console.error(JSON.stringify(e))})}))})}).catch(function(e){return console.error("Error getting token",e)})},e.prototype.onNotification=function(){var e=this;this.firebase.onNotificationOpen().subscribe(function(t){console.log(JSON.stringify(t),"this is data");var n=e.localNotifications.on("click").subscribe(function(){"lesson"==t.type?(e.events.publish("notification:lesson",{course_id:+t.course,lesson_id:+t.lesson}),n.unsubscribe()):"course"==t.type&&(e.events.publish("notification:course",+t.course),n.unsubscribe())});switch(t.type){case"course":t.tap?(console.log("course"),e.events.publish("notification:course",+t.course)):e.localNotifications.schedule({id:1,title:t.title,text:t.body});break;case"lesson":t.tap?e.events.publish("notification:lesson",{course_id:+t.course,lesson_id:+t.lesson}):e.localNotifications.schedule({id:2,title:t.title,text:t.body});break;case"logout":console.log("logout"),e.auth.logout(),e.menuCtrl.close();break;default:t.tap||e.localNotifications.schedule({id:3,title:t.title,text:t.body})}})},e.prototype.logLogin=function(e){this.firebase.logEvent("login",{id:e.id,name:e.name}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},e.prototype.logLogout=function(e){this.firebase.logEvent("login",{id:e.id,name:e.first_name}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},e.prototype.setUserId=function(e){this.firebase.setUserId(e).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},e.prototype.logScreen=function(e){this.firebase.setScreenName(e).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},e.prototype.logLdinteractions=function(e){this.firebase.logEvent("select_content",{content_type:e.type,item_id:e.id}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},e}()},95:function(e,t,n){"use strict";n.d(t,"a",function(){return i});n(0),n(29);var o=n(42),i=(n.n(o),n(30),function(){function e(e,t){this.api=e,this.storage=t,this._user=null}return e.prototype.getUser=function(e){return e?this.getUserLocal():this.getUserRemote()},e.prototype.getUserLocal=function(){var e=this;return new Promise(function(t,n){if(e._user)return t(e._getuserLocal());e.storage.get("user").then(function(n){return n?(e._user=n,t(e._getuserLocal())):t(e.getUserRemote())})})},e.prototype._getuserLocal=function(){return Object.assign({},this._user)},e.prototype.getUserRemote=function(){var e=this;return new Promise(function(t,n){e._getuserRemote().then(function(n){e.updateUser(n),t(e._user)}).catch(function(e){n(e)})})},e.prototype._getuserRemote=function(){return this.api.get("wp/v2/users/me",{context:"edit"}).toPromise()},e.prototype.updateUserProfile=function(e){return this.api.post("wp/v2/users/me",e).toPromise()},e.prototype.updateUser=function(e){this._user=e,this.storage.set("user",e)},e}())},98:function(e,t,n){"use strict";n.d(t,"a",function(){return r});n(0),n(29),n(30);var o=n(2),i=(n.n(o),n(42)),s=(n.n(i),n(32),n(53),this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}),r=function(){function e(e,t,n,o){this.api=e,this.storage=t,this.helper=n,this.mycourses=o}return e.prototype.getSingleLesson=function(e,t){var n=this;this.mycourses.isCourseExpired(t);return o.Observable.create(function(o){n._getSingleLessonLocal(e).then(function(e){o.next(e)}),n._getSingleLessonRemote(e,t).then(function(e){n._updateSingleLessonLocal(e),o.next(e),o.complete()}).catch(function(e){return console.log(e)})})},e.prototype._getSingleLessonRemote=function(e,t){var n=this,o={lesson_id:e,course_id:t};return new Promise(function(e,t){n.helper.getApiversion().then(function(t){var i=n.api.get("learndash/"+t+"/lesson",o);e(i.toPromise())})})},e.prototype._getSingleLessonLocal=function(e,t){var n=this;return void 0===t&&(t="singlelessons"),new Promise(function(o,i){n.storage.get(t).then(function(t){t&&t[e]&&o(t[e])})})},e.prototype._updateSingleLessonLocal=function(e,t){var n=this;void 0===t&&(t="singlelessons"),this.storage.get(t).then(function(o){o||(o={}),o[e.id]=e,n.storage.set(t,o)})},e.prototype._updateLessonsOffline=function(e){var t=this;this.storage.get("offlineLessons").then(function(n){n=s({},n,e),t.storage.set("offlineLessons",n)})},e.prototype.markLessonCompleted=function(e,t){var n=this;this.mycourses.isCourseExpired(t);var o={id:e,course_id:t};return new Promise(function(e,t){n.helper.getApiversion().then(function(t){var i=n.api.get("learndash/"+t+"/mark_complete",o);e(i.toPromise())})})},e}()}},[514]);